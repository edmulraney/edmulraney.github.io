<script>
  document.addEventListener("DOMContentLoaded", async () => {
    if ('serviceWorker' in navigator) {
      try {
        const registration = await navigator.serviceWorker.register("/service-worker.js", { type: "module" })
        await navigator.serviceWorker.ready
        console.log("service worker registered")
      }
      catch (error) {
        console.log('Service worker registration failed, error:', error)
      }
    }
  })
</script>